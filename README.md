# MailMancer

```sql
CREATE TABLE user_companies 
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255)
);

CREATE TABLE users
(
     id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
     login VARCHAR(255) unique,
    name VARCHAR(255),
    email VARCHAR(255) unique,
    password VARCHAR(255),
    role SMALLINT CHECK (role BETWEEN 0 AND 1),
    company_id BIGINT NOT NULL REFERENCES user_companies(id)
);

CREATE TABLE orders
(
   id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   additional_requirements VARCHAR(255),
    closed_date TIMESTAMP(6),
    created_date TIMESTAMP(6) NOT NULL,
    delivery_address VARCHAR(255),
    download_address VARCHAR(255),
    height VARCHAR(255),
    length VARCHAR(255),
    name VARCHAR(255),
    weight VARCHAR(255),
    width VARCHAR(255),
    kind VARCHAR(4),
    user_id BIGINT NOT NULL REFERENCES users(id)
);

CREATE TABLE carrier_companies 
(
     id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
     name VARCHAR(255),
    user_company_id BIGINT NOT NULL REFERENCES user_companies(id)
);

CREATE TABLE carrier_representative 
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY ,
    additionally VARCHAR(255),
    email VARCHAR(255),
    carrier_company_id BIGINT NOT NULL REFERENCES carrier_companies(id)
);

CREATE TABLE invites 
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at TIMESTAMP(6),
    token VARCHAR(255) unique ,
    user_company_id BIGINT NOT NULL REFERENCES user_companies(id)
);

CREATE TABLE users_orders 
(
    user_entity_id BIGINT NOT NULL REFERENCES users(id),
    orders_id BIGINT NOT NULL REFERENCES orders(id)
);

CREATE TABLE cargo_spaces 
(
    id BIGSERIAL PRIMARY KEY,
    quantity BIGINT NOT NULL,
    weight DOUBLE PRECISION NOT NULL,
    length DOUBLE PRECISION NOT NULL,
    height DOUBLE PRECISION NOT NULL,
    width DOUBLE PRECISION NOT NULL,
    order_id BIGINT NOT NULL,
    CONSTRAINT fk_order
    FOREIGN KEY (order_id)
    REFERENCES orders(id)
    ON DELETE CASCADE
);
```